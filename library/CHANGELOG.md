# Changelog

## [4.0.1] 2026.01

- 修复: 修复通知点击后，冷启动跳转问题
- 优化: 泄露分析页面沉浸下的展示问题
- 优化: 通知显示
- 优化: 分析完成后如果没有发现泄露，则自动清除任务

## [4.0.0] 2026.01

- 新增: 新增系统API泄漏监控功能
- 采用API20的系统API监控功能，不会导致appFreeze

## [3.0.1] 2026.01

- 新增: 新增Ability 泄漏监听
- 新增: 新增WindowStage 泄漏监听

## [3.0.0] 2026.01

- 重构: 移除 objWatch.setAutoClear 调用，统一使用 LeakGuard.setAutoClear
- 优化: 在堆快照解析器中添加 weak 引用和空路径检查条件
- 新增: 实现系统API泄漏监控功能
- 增强: LeakGuard 类增加系统监控开关、分析间隔等功能
- 优化: 更新 通知 中的路由跳转逻辑以适配新架构
- 重构: ObjWatch 类移除灵敏度枚举并简化分析流程
- 统一: 分析间隔和自动清除设置的访问接口

## [2.3.2] 2026.01

- 修复: 定制 rapidjson 库 为定制版 防止json中含有正则emoji表达式而导致的解析失败
- 修复: 更正了弱引用检查中的变量名错误
- 优化: 解析heapsnapshot文件性能
- 优化: 跨线程通信数据传递，减少线程切换的开销，降低appFreeze的可能
- 优化：在对象分析过程中清除已分析对象的GC计数以减少dump压力，避免重复分析，降低appFreeze的可能

## [2.3.1] 2026.01

- 优化分析线程数据传递，减少线程切换的开销，降低appFreeze的可能
- 强制分析间隔，防止频繁分析导致appFreeze


## [2.3.0] 2026.01

- 修改内存泄漏检测算法，精准检测内存泄漏对象
- 清除空引用的对象，减少误报

## [2.2.0] 2026.01

- 新增内存泄漏检测自动清除功能，检测到泄漏后，会自动清除泄漏对象, 防止下次检测重复报
- 修复灵敏度判断错误的问题
- 增强整体健壮性

## [2.1.2] 2026.01

- 优化：泄漏详情页面，标题显示优化

## [2.1.1] 2026.01

- 修复：引用链展示错误问题

## [2.1.0] 2026.01

- 将快照文件分析结果入库
- 新增内存泄漏检测报告页面，分近期和全部
- 新增内存泄漏检测泄漏灵敏度功能，分为高灵敏度和低灵敏度
- 新增内存泄漏检测手动监听对象能力

## [2.0.0] 2026.01

- 新增快照功能，在发生泄漏时，会自动生成快照文件并进行分析

## [v1.3.1] 2026.01

- 新增cacheGCCount 缓存组件GC次数，只有在组件GC次数超过1次时，才会被认为是泄漏

## [v1.3.0] 2026.01

- 新增通知功能，检测到内存泄漏时，会弹出通知提示

## [v1.2.1] 2026.01

- 增强：initRegisterGlobalWatch 不存在时，不会导致应用crash
- 修复：initRegisterGlobalWatch 重复调用时，会导致重复监听
- 修复：监听全局组件时，会名称打印错误

## [v1.2.0] 2025.12

- 添加全局组件监听功能，自动监控所有自定义组件（API20 以上）

## [v1.1.0] 2025.12

- 新增API 手动注册泄漏监听，不在考虑时机

## [v1.0.1] 2025.12.25

- 添加排重逻辑，减少误报

## [v1.0.0] 2025.12.20

- 可以监听单个Page页面和Navigation下的页面组件内存泄漏